{"ast":null,"code":"var _jsxFileName = \"/latreact/my-lat3/src/App.js\";\nimport React, { Component, createContext } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport AuthService from \"./services/auth.service\";\nimport Login from \"./components/login.component\";\nimport Register from \"./components/register.component\";\nimport Profile from \"./components/profile.component\";\nimport Home from \"./components/home.component\";\nimport BoardModerator from \"./components/board-moderator.component\";\nimport BoardAdmin from \"./components/board-admin.component\";\nimport ArticleList from \"./components/article-list.component\";\nimport Article from \"./components/article.component\";\nimport AddArticle from \"./components/add-article.component\";\nimport Hooks from \"./container/hook-component\";\nimport FileUpload from \"./container/upload-component\";\nexport const RootContext = createContext();\nconst Provider = RootContext.Provider;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.dispatch = action => {\n      if (action.type === \"ADD_COUNTER\") {\n        return this.setState({\n          globalcounter: this.globalcounter + 1\n        });\n      }\n    };\n\n    this.logOut = this.logOut.bind(this);\n    this.state = {\n      showAdminBoard: false,\n      showModeratorBoard: false,\n      currentUser: undefined,\n      globalcounter: 0\n    };\n  }\n\n  componentDidMount() {\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      this.setState({\n        currentUser: user,\n        showModeratorBoard: user.roles.includes(\"ROLE_MODERATOR\"),\n        showAdminBoard: user.roles.includes(\"ROLE_ADMIN\")\n      });\n    }\n  }\n\n  logOut() {\n    AuthService.logout();\n    window.location.href = \"/\"; //   window.location.reload(false);\n  }\n\n  render() {\n    const {\n      currentUser,\n      showModeratorBoard,\n      showAdminBoard\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Provider, {\n      value: {\n        state: this.state,\n        dispatch: this.dispatch\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"navbar navbar-expand navbar-dark bg-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      className: \"navbar-brand\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }, \"Simple App\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navbar-nav mr-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/home\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 37\n      }\n    }, \"Home\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/hook\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 37\n      }\n    }, \"Hooks\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/upload\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 37\n      }\n    }, \"Upload\")), showAdminBoard && /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 37\n      }\n    }, \"Admin Board\")), showModeratorBoard && /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/mod\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 37\n      }\n    }, \"Moderator Board\")), currentUser && /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/article\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 33\n      }\n    }, \"Articles\")), currentUser && /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/add\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 33\n      }\n    }, \"Add\"))), currentUser ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navbar-nav pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/profile\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 37\n      }\n    }, currentUser.username)), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      className: \"nav-link\",\n      onClick: this.logOut,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 37\n      }\n    }, \"Logut\"))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navbar-nav  pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/login\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 37\n      }\n    }, \"Login\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/register\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 37\n      }\n    }, \"Sign Up\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: [\"/\", \"/home\"],\n      component: Home,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/hook\",\n      component: Hooks,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/upload\",\n      component: FileUpload,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      component: Login,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/register\",\n      component: Register,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/profile\",\n      component: Profile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/mod\",\n      component: BoardModerator,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/admin\",\n      component: BoardAdmin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/article\",\n      component: ArticleList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/add\",\n      component: AddArticle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/article/:id\",\n      component: Article,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 33\n      }\n    }))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/latreact/my-lat3/src/App.js"],"names":["React","Component","createContext","BrowserRouter","Router","Switch","Route","Link","AuthService","Login","Register","Profile","Home","BoardModerator","BoardAdmin","ArticleList","Article","AddArticle","Hooks","FileUpload","RootContext","Provider","App","constructor","props","dispatch","action","type","setState","globalcounter","logOut","bind","state","showAdminBoard","showModeratorBoard","currentUser","undefined","componentDidMount","user","getCurrentUser","roles","includes","logout","window","location","href","render","username"],"mappings":"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","sourcesContent":["import React, {Component , createContext} from 'react';\nimport {BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nimport AuthService from \"./services/auth.service\";\n\nimport Login from \"./components/login.component\";\nimport Register from \"./components/register.component\";\nimport Profile from \"./components/profile.component\";\nimport Home from \"./components/home.component\";\nimport BoardModerator from \"./components/board-moderator.component\";\nimport BoardAdmin from \"./components/board-admin.component\";\nimport ArticleList from \"./components/article-list.component\";\nimport Article from \"./components/article.component\";\nimport AddArticle from \"./components/add-article.component\";\nimport Hooks from \"./container/hook-component\";\nimport FileUpload from \"./container/upload-component\";\n\nexport const RootContext = createContext();\nconst Provider = RootContext.Provider;\n\nclass App extends Component{\n\n    constructor(props){\n        super(props);\n        this.logOut = this.logOut.bind(this);\n\n        this.state = {\n            showAdminBoard : false,\n            showModeratorBoard : false,\n            currentUser : undefined,\n            globalcounter : 0 \n        }\n\n    }\n\n\n    dispatch = (action) => {\n\n        if (action.type === \"ADD_COUNTER\") {\n            return this.setState({\n                globalcounter : this.globalcounter + 1\n            });\n        }\n      \n    }\n    componentDidMount(){\n\n        const user = AuthService.getCurrentUser();\n\n        if (user) {\n            this.setState({\n                currentUser : user,\n                showModeratorBoard: user.roles.includes(\"ROLE_MODERATOR\"),\n                showAdminBoard: user.roles.includes(\"ROLE_ADMIN\")\n            });\n        }\n\n    }\n\n    logOut(){\n        AuthService.logout();\n       window.location.href=\"/\";\n     //   window.location.reload(false);\n    }\n\n\n    \n    render(){\n\n        const {currentUser, showModeratorBoard, showAdminBoard} = this.state;\n\n        return(\n\n            <Router>\n                <Provider value={{\n                    state : this.state,\n                    dispatch : this.dispatch\n                }}>\n                    <div>\n                        <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n                            <Link to=\"/\" className=\"navbar-brand\">\n                            Simple App\n                            </Link>\n                            <div className=\"navbar-nav mr-auto\">\n                                <li className=\"nav-item\">\n                                    <Link to=\"/home\" className=\"nav-link\">\n                                        Home\n                                    </Link>\n                                </li>\n\n                                <li className=\"nav-item\">\n                                    <Link to=\"/hook\" className=\"nav-link\">\n                                        Hooks\n                                    </Link>\n                                </li>\n\n                                <li className=\"nav-item\">\n                                    <Link to=\"/upload\" className=\"nav-link\">\n                                        Upload\n                                    </Link>\n                                </li>\n\n\n                                {showAdminBoard && (\n                                    <li className=\"nav-item\">\n                                    <Link to=\"/admin\" className=\"nav-link\">\n                                        Admin Board\n                                    </Link>\n                                </li>\n                                )}\n\n\n                                {showModeratorBoard && (\n                                    <li className=\"nav-item\">\n                                    <Link to=\"/mod\" className=\"nav-link\">\n                                        Moderator Board\n                                    </Link>\n                                </li>\n                                )}\n\n                                {currentUser && (\n                                <li className=\"nav-item\">\n                                <Link to=\"/article\" className=\"nav-link\">\n                                    Articles\n                                </Link>\n                                </li>\n                                \n                                )}\n\n                                {currentUser && (\n                                \n                                \n                                <li className=\"nav-item\">\n                                <Link to=\"/add\" className=\"nav-link\">\n                                    Add\n                                </Link>\n                                </li>\n                                )}\n\n\n                            </div>\n\n                            {currentUser ? \n                            (\n                            <div className=\"navbar-nav pull-right\">\n                                <li className=\"nav-item\">\n                                    <Link to=\"/profile\" className=\"nav-link\">\n                                        {currentUser.username}\n                                    </Link>\n                                </li>\n\n                                <li className=\"nav-item\">\n                                    <Link to=\"/\" className=\"nav-link\" onClick={this.logOut}>\n                                        Logut\n                                    </Link>\n                                </li>\n\n                            </div>\n                                ) : (\n                                <div className=\"navbar-nav  pull-right\">\n                                <li className=\"nav-item\">\n                                    <Link to=\"/login\" className=\"nav-link\">\n                                        Login\n                                    </Link>\n                                </li>\n\n                                <li className=\"nav-item\">\n                                    <Link to=\"/register\" className=\"nav-link\">\n                                        Sign Up\n                                    </Link>\n                                </li>\n\n                            </div>\n                                ) \n                            }\n                        </nav>\n\n                        <div className=\"container mt-3\">\n                            <Switch>\n                                <Route exact path={[\"/\",\"/home\"]} component={Home}/>\n                                <Route exact path=\"/hook\" component={Hooks}/>\n                                <Route exact path=\"/upload\" component={FileUpload}/>\n                                <Route exact path=\"/login\" component={Login}/>\n                                <Route exact path=\"/register\" component={Register}/>\n                                <Route exact path=\"/profile\" component={Profile}/>\n                                <Route exact path=\"/mod\" component={BoardModerator}/>\n                                <Route exact path=\"/admin\" component={BoardAdmin}/>\n                                <Route exact path= \"/article\" component={ArticleList} />\n                                <Route exact path=\"/add\" component={AddArticle} />\n                                <Route path=\"/article/:id\" component={Article} />\n                            </Switch>\n                        </div>\n\n                    </div>\n                </Provider>\n               \n            </Router>\n        );\n\n    }\n\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}